<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Find a Drive - SaveLife</title>
	<link rel="stylesheet" href="donation.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>
<body>
	<nav class="navbar">
		<div class="logo"><span class="logoimg"><i class="fa-solid fa-heart"></i></span><span class="logotxt">SaveLife</span></div>
		<div class="menu">
			<ul>
				<li><a href="">Home</a></li>
				<li><a href="why-donate.html">Why Donate</a></li>
				<li><a href="drive.html" style="color:#c62828">Find a Drive</a></li>
				<li><a href="about.html">About Us</a></li>
				<li><a href="FAQs.html">FAQs</a></li>
				<li><a href="Contact.html">Contact</a></li>
			</ul>
		</div>
		<div class="auth">
			<button class="login"><a href="login.html" target="_blank">Login</a></button>
			<button class="signup"><a href="sign.html" target="_blank">Sign Up</a></button>
		</div>
	</nav>

	<main style="padding:40px 20px;">
		<div style="max-width:1100px;margin:0 auto;text-align:center">
			<h1 style="font-size:42px;margin-bottom:6px">Find a Blood Drive</h1>
			<p style="color:#777;margin-bottom:30px">Join a blood drive near you and make a difference in your community</p>
		</div>

		<div style="max-width:1100px;margin:0 auto">
			<div id="drives-list" class="drives-grid">
				<!-- drives injected here -->
			</div>
		</div>
	</main>

	<script>
		// load drives from localStorage and render
			function createDriveCard(data){
				const card = document.createElement('div');
				card.className = 'drive-card';
				card.innerHTML = `
					<div style="display:flex;justify-content:space-between;align-items:center">
						<div style="display:flex;gap:10px;align-items:center">
							<span class="tag">Blood Drive</span>
							<h3 style="margin:0">${data.orgName || 'College'}</h3>
						</div>
						<div style="color:#777"><i class="fa-regular fa-location-dot"></i></div>
					</div>
					<p style="color:#666;margin:8px 0;font-size:14px">${data.address || ''}</p>
					<div class="drive-meta">${data.city || ''} • ${data.date || ''} ${data.time ? ' • ' + data.time : ''}</div>
					<div class="drive-row"><i class="fa-regular fa-user"></i> Expected: ${data.expected || 'N/A'}</div>
					<hr style="margin:10px 0;border-top:1px solid #f0f0f0">
					<div style="font-size:13px;color:#555"><i class="fa-solid fa-envelope"></i> ${data.email || ''}</div>
					<div style="font-size:13px;color:#555;margin-top:6px"><i class="fa-solid fa-phone"></i> ${data.phone || ''}</div>
				`;
				return card;
			}

		function loadDrives(){
			const list = document.getElementById('drives-list');
			let drives = [];
			try{ drives = JSON.parse(localStorage.getItem('drives')||'[]'); }catch(e){ drives = []; }
			if(!drives.length){
				// optionally show a placeholder
				const ph = document.createElement('div');
				ph.style.gridColumn = '1/-1';
				ph.style.textAlign = 'center';
				ph.style.color = '#777';
				ph.textContent = 'No drives available. Host a blood drive to add one.';
				list.appendChild(ph);
				return;
			}
			drives.forEach(d => list.appendChild(createDriveCard(d)));
		}

		document.addEventListener('DOMContentLoaded', loadDrives);
	</script>
</body>
</html>

